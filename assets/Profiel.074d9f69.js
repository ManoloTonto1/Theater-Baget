import{R as t,U as f,r as P,j as u,c as e,T as g,o as L,F as M,n as h,ag as z,Y as F,A as B,m as I,aq as D,ai as j,a5 as W,E as N}from"./index.d915181a.js";import{d as R,L as U,A as $}from"./index.60a79da5.js";import{F as Y}from"./FormGroup.1bce50fe.js";import{T as x,M as H}from"./TextField.451445b8.js";import{D as O}from"./DatePicker.23d65274.js";import{T as q}from"./Ticket.7c023ec5.js";import{I as V}from"./InfiniteScroll.38bf45d4.js";import{_}from"./index.3a9422bc.js";import{C as A}from"./CardContent.377ea338.js";import{B as K,P as Q}from"./ProfileCard.70dcea34.js";import{C as G}from"./Card.16955891.js";import{T as J,a as C}from"./Tabs.22e257e1.js";import"./InputAdornment.ee729dca.js";import"./index.f2a06ad4.js";import"./CardActionArea.6fcf50a0.js";import"./CardMedia.390214ea.js";function X(){const[a,i]=t.useState(""),[r,n]=t.useState(""),[l,d]=t.useState(R()),[o,c]=t.useState(""),[p,m]=t.useState(""),[v,E]=t.useState(!0);t.useContext(f);const k=P.exports.useCallback(async s=>{c(s.target.value)},[]),S=P.exports.useCallback(async s=>{m(s.target.value)},[]),T=P.exports.useCallback(async s=>{n(s.target.value)},[]),b=P.exports.useCallback(async s=>{i(s.target.value)},[]);return u(Y,{children:[e(g,{variant:"h4",children:"Gegevens aanpassen"}),e(x,{sx:{m:1,mb:2},fullWidth:!0,label:"Naam",variant:"standard",type:"text",required:!0,onChange:b,value:a}),e(U,{dateAdapter:$,children:e(O,{label:"Geboorte datum",value:l,onChange:s=>{d(s)},renderInput:s=>e(x,{sx:{m:1},variant:"standard",...s})})}),e(x,{sx:{m:1,mb:2},label:"E-mail adres",variant:"standard",type:"email",required:!0,onChange:S,value:p}),e(x,{sx:{m:1,mb:2},label:"Wachtwoord",variant:"standard",type:"password",required:!0,onChange:k,value:o}),e(x,{sx:{m:1,mb:3},label:"Wachtwoord bevestigen",variant:"standard",type:"password",required:!0,onChange:T,value:r,error:!v,helperText:v?"":"Wachtwoorden komen niet overeen"}),e(L,{variant:"contained",type:"submit",children:"wijzigingen opslaan"})]})}function Z(){const[a,i]=t.useState([]),[r,n]=t.useState([]),[l,d]=t.useState(!0),{user:o}=t.useContext(f),[c,p]=t.useState(!0),[m,v]=t.useState(!1),[E,k]=t.useState(""),S=o.userData;t.useEffect(()=>{(async()=>{await B("gebruikers").Get(S.id+"").then(s=>{s.status==200&&(i(s.data.reserveringen),n(s.data.reserveringen.slice(0,5)),p(!1))})})()},[S.id]);const T=t.useCallback(async()=>{r.length>=a.length&&d(!1),n(a.slice(0,r.length+5))},[a,r.length]);return u(M,{children:[u(h,{sx:{overflow:"auto",scrollbarWidth:"thin",height:400},children:[e(g,{variant:"h4",mb:2,children:"Tickets"}),c?e(z,{}):r.length==0?e(g,{variant:"h5",mb:2,children:"U heeft geen Tikets gekocht."}):e(V,{pageStart:0,loadMore:T,hasMore:l,loader:e("div",{className:"loader",children:"Even Geduld ..."},0),useWindow:!1,children:r.map(b=>e(q,{disableLink:!0,...b.programmering,onClick:async s=>{s.preventDefault(),s.stopPropagation(),k(b.QR),v(!0)}},b.id))})]}),e(H,{open:m,onClose:async()=>{v(!1),setTimeout(async()=>{k("")},300)},children:e(F,{in:m,children:e(h,{sx:{position:"absolute",top:"30%",left:"35%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4},children:e(_,{size:256,style:{width:"100%"},value:E,viewBox:"0 0 256 256"})})})})]})}function ee(){const[a,i]=t.useState([]),[r,n]=t.useState(),{user:l}=t.useContext(f);return t.useEffect(()=>{var o;B("betrokkenen").Get(((o=l.userData)==null?void 0:o.id)+"").then(c=>{i(d(c.data.groepen)),n(d(c.data.groepen).length)})},[]),e(h,{sx:{p:1,scrollbarWidth:"thin"},children:u(A,{children:[e(g,{variant:"h4",mb:2,children:"My shows:"}),r==0?e(g,{variant:"h5",mb:2,children:"You currently dont have any jobs to work."}):a.map(o=>e(q,{...o},o.id))]})});function d(o){const c=[];return o!=null&&o.forEach(p=>{p.programmeringen!=null&&p.programmeringen.forEach(m=>{c.push(m)})}),c}}function te(){const[a,i]=t.useState([]),{user:r}=t.useContext(f);return t.useEffect(()=>{var n;B("betrokkenen").Get(((n=r.userData)==null?void 0:n.id)+"").then(l=>{i(l.data.groepen)})},[]),e(h,{sx:{p:1,overflowY:"visible",scrollbarWidth:"thin"},children:u(A,{sx:{},children:[e(g,{variant:"h4",mb:2,children:"Mijn bands:"}),a.map(n=>e(K,{...n},n.id))]})})}function ae(){const{user:a}=t.useContext(f),i=I(),r=t.useCallback(()=>{localStorage.removeItem("token"),a.setUser(null),i("/")},[i,a]);return u(h,{sx:{display:"flex",justifyItems:"center",alignItems:"center",alignContent:"center",flexDirection:"column",flexWrap:"nowrap",maxWidth:500},children:[e(g,{variant:"h3",align:"center",sx:{marginBottom:1},children:"Weet u zeker dat u wilt uitloggen?"}),e(g,{variant:"body1",align:"center",children:"Klik op de knop hieronder om uit te loggen."}),e(L,{variant:"contained",size:"large",onClick:r,sx:{mt:4,width:"100%"},children:"Log uit"})]})}function w(a){const{children:i,value:r,index:n,...l}=a;return e(h,{role:"tabpanel",hidden:r!==n,id:`vertical-tabpanel-${n}`,"aria-labelledby":`vertical-tab-${n}`,...l,children:r===n&&e(h,{sx:{p:3},children:i})})}function y(a){return{id:`vertical-tab-${a}`,"aria-controls":`vertical-tabpanel-${a}`}}function xe(){const[a,i]=t.useState(0),{user:r,role:n}=t.useContext(f),l=I(),d=n.role==D.acteur||n.role==D.bandlid,o=n.role==D.admin,c=(p,m)=>{i(m)};return e(M,{children:r.userData&&r.userData.naam!=null?e(j,{maxWidth:"md",sx:{my:4},children:u(W,{container:!0,spacing:3,children:[e(W,{item:!0,lg:12,xs:12,children:u(G,{elevation:4,children:[e(Q,{}),u(J,{variant:"fullWidth",value:a,onChange:c,"aria-label":"Vertical tabs",sx:{borderRight:1,borderColor:"divider"},children:[e(C,{label:"Log out",...y(0)}),e(C,{label:"Settings",...y(1)}),e(C,{label:"Tickets",...y(2)}),d&&e(C,{label:"Bands",...y(3)}),d&&e(C,{label:"Shows",...y(4)}),e(h,{sx:{width:"100",ml:3,mr:3},children:o&&e(L,{variant:"contained",onClick:()=>l("/admin"),children:"To admin page"})})]})]})}),e(W,{item:!0,lg:12,sm:12,xs:12,children:e(G,{elevation:4,sx:{scrollbarWidth:"thin",overflow:"auto",maxHeight:500},children:u(j,{children:[e(w,{value:a,index:0,children:e(h,{sx:{scrollbarWidth:"thin",display:"flex",justifyContent:"center",alignItems:"center"},children:e(ae,{})})}),e(w,{value:a,index:1,children:e(h,{sx:{width:"100%",height:"100%",scrollbarWidth:"thin"},children:e(X,{})})}),e(w,{value:a,index:2,children:e(Z,{})}),d&&e(w,{value:a,index:3,children:e(te,{})}),d&&e(w,{value:a,index:4,children:e(ee,{})})]})})})]})}):e(N,{})})}export{xe as default};
