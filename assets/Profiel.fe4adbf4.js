import{R as a,U as g,r as y,j as u,c as e,T as m,o as P,A as S,n as h,m as B,ao as w,F,ai as $,a5 as k,E as q}from"./index.faf55782.js";import{d as W,L as z,A as M}from"./index.b03244e1.js";import{F as N}from"./FormGroup.4cd507e9.js";import{T as v}from"./TextField.91e1bd73.js";import{D as Y}from"./DatePicker.b14f0d3d.js";import{T as E}from"./Ticket.94f49682.js";import{C as D}from"./CardContent.5e0c6846.js";import{B as R,P as U}from"./ProfileCard.362619bf.js";import{C as j}from"./Card.190df047.js";import{T as H,a as x}from"./Tabs.086da09d.js";import"./InputAdornment.996090cd.js";import"./index.f2a06ad4.js";import"./CardActionArea.01a1c223.js";import"./CardMedia.52bf7c26.js";function V(){const[n,o]=a.useState(""),[s,r]=a.useState(""),[l,d]=a.useState(W()),[t,i]=a.useState(""),[p,b]=a.useState(""),[T,X]=a.useState(!0);a.useContext(g);const L=y.exports.useCallback(async c=>{i(c.target.value)},[]),G=y.exports.useCallback(async c=>{b(c.target.value)},[]),A=y.exports.useCallback(async c=>{r(c.target.value)},[]),I=y.exports.useCallback(async c=>{o(c.target.value)},[]);return u(N,{children:[e(m,{variant:"h5",children:"Gegevens aanpassen"}),e(v,{sx:{m:1,mb:2},label:"Naam",variant:"standard",type:"text",required:!0,onChange:I,value:n}),e(z,{dateAdapter:M,children:e(Y,{label:"Geboorte datum",value:l,onChange:c=>{d(c)},renderInput:c=>e(v,{sx:{m:1},variant:"standard",...c})})}),e(v,{sx:{m:1,mb:2},label:"E-mail adres",variant:"standard",type:"email",required:!0,onChange:G,value:p}),e(v,{sx:{m:1,mb:2},label:"Wachtwoord",variant:"standard",type:"password",required:!0,onChange:L,value:t}),e(v,{sx:{m:1,mb:3},label:"Wachtwoord bevestigen",variant:"standard",type:"password",required:!0,onChange:A,value:s,error:!T,helperText:T?"":"Wachtwoorden komen niet overeen"}),e(P,{variant:"contained",type:"submit",children:"wijzigingen opslaan"})]})}function K(){a.useState(W());const[n,o]=a.useState([]),[s,r]=a.useState(),{user:l}=a.useContext(g),d=l.userData;return a.useEffect(()=>{S("gebruikers").Get(d.id+"").then(t=>{console.log(t.data),t.status==200&&(o(t.data.reserveringen),r(t.data.reserveringen.length))})},[]),e(h,{sx:{p:1,scrollbarWidth:"thin"},children:u(D,{children:[e(m,{variant:"h4",mb:2,children:"Tickets:"}),s==0?e(m,{variant:"h5",mb:2,children:"You currently dont have any reservations."}):n.map(t=>(console.log(t),e(E,{...t.programmering,onClick:i=>{i.preventDefault(),i.stopPropagation(),navigate(`event/${t.id}`)}},t.id))),";"]})})}function O(){const[n,o]=a.useState([]),[s,r]=a.useState(),{user:l}=a.useContext(g);return a.useEffect(()=>{var t;S("betrokkenen").Get(((t=l.userData)==null?void 0:t.id)+"").then(i=>{console.log(i.data),o(d(i.data.groepen)),r(d(i.data.groepen).length)})},[]),e(h,{sx:{p:1,scrollbarWidth:"thin"},children:u(D,{children:[e(m,{variant:"h4",mb:2,children:"My shows:"}),s==0?e(m,{variant:"h5",mb:2,children:"You currently dont have any jobs to work."}):n.map(t=>(console.log(t),e(E,{...t},t.id)))]})});function d(t){const i=[];return t!=null&&t.forEach(p=>{p.programmeringen!=null&&p.programmeringen.forEach(b=>{i.push(b)})}),i}}function J(){const[n,o]=a.useState([]),{user:s}=a.useContext(g);return a.useEffect(()=>{var r;S("betrokkenen").Get(((r=s.userData)==null?void 0:r.id)+"").then(l=>{console.log(l.data),o(l.data.groepen)})},[]),e(h,{sx:{p:1,overflowY:"visible",scrollbarWidth:"thin"},children:u(D,{sx:{},children:[e(m,{variant:"h4",mb:2,children:"Mijn bands:"}),n.map(r=>(console.log(r),e(R,{...r},r.id)))]})})}function Q(){const{user:n}=a.useContext(g),o=B(),s=a.useCallback(()=>{localStorage.removeItem("token"),n.setUser(null),o("/")},[o,n]);return u(h,{sx:{display:"flex",justifyItems:"center",alignItems:"center",alignContent:"center",flexDirection:"column",flexWrap:"nowrap",maxWidth:500},children:[e(m,{variant:"h3",align:"center",sx:{marginBottom:1},children:"Weet u zeker dat u wilt uitloggen?"}),e(m,{variant:"body1",align:"center",children:"Klik op de knop hieronder om uit te loggen."}),e(P,{variant:"contained",size:"large",onClick:s,sx:{mt:4,width:"100%"},children:"Log uit"})]})}function f(n){const{children:o,value:s,index:r,...l}=n;return e(h,{role:"tabpanel",hidden:s!==r,id:`vertical-tabpanel-${r}`,"aria-labelledby":`vertical-tab-${r}`,...l,children:s===r&&e(h,{sx:{p:3},children:o})})}function C(n){return{id:`vertical-tab-${n}`,"aria-controls":`vertical-tabpanel-${n}`}}function he(){const[n,o]=a.useState(0),{user:s,role:r}=a.useContext(g),l=B(),d=r.role==w.acteur||r.role==w.bandlid,t=r.role==w.admin,i=(p,b)=>{o(b)};return e(F,{children:s.userData&&s.userData.naam!=null?e($,{sx:{my:4},children:u(k,{container:!0,spacing:3,children:[e(k,{item:!0,lg:12,xs:12,children:u(j,{elevation:4,children:[e(U,{}),u(H,{variant:"scrollable",value:n,onChange:i,"aria-label":"Vertical tabs",sx:{borderRight:1,borderColor:"divider"},children:[e(x,{label:"Log out",...C(0)}),e(x,{label:"Settings",...C(1)}),e(x,{label:"Tickets",...C(2)}),d&&e(x,{label:"Bands",...C(3)}),d&&e(x,{label:"Shows",...C(4)}),e(h,{sx:{width:"100",ml:3,mr:3},children:t&&e(P,{variant:"contained",onClick:()=>l("/admin"),children:"To admin page"})})]})]})}),e(k,{item:!0,lg:12,sm:12,xs:12,children:u(j,{elevation:4,sx:{maxHeight:500,minHeight:500,overflowY:"auto"},children:[e(f,{value:n,index:0,children:e(h,{sx:{width:"100%",height:"100%",scrollbarWidth:"thin",alignItems:"center",display:"flex",justifyContent:"center"},children:e(Q,{})})}),e(f,{value:n,index:1,children:e(h,{sx:{width:"100%",height:"100%",scrollbarWidth:"thin",alignItems:"center",display:"flex",justifyContent:"center"},children:e(V,{})})}),e(f,{value:n,index:2,children:e(K,{})}),d&&e(f,{value:n,index:3,children:e(J,{})}),d&&e(f,{value:n,index:4,children:e(O,{})})]})})]})}):e(q,{})})}export{he as default};
