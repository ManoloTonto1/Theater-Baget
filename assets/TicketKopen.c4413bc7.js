import{h as se,c as t,a as de,g as ue,s as Y,e as n,k as m,_ as x,r as y,l as pe,b as ve,z as ge,B as q,d as z,j as s,f as fe,a9 as be,aa as he,ab as Ce,R as g,ai as me,a3 as xe,a4 as c,ad as $,n as P,T as v,U as ye,o as R,m as $e,aj as ke,ak as J,W as Q,al as Se,A as N,ag as Ie,ah as ze,af as Re}from"./index.d464434d.js";import{T as Pe}from"./Ticket.d7682a2f.js";import{F as De,T as Te}from"./TextField.88ca506c.js";import{C as D}from"./Card.9fecf25a.js";import{a as M}from"./CardMedia.638b8fd5.js";import{S as je}from"./Slide.3cb633a9.js";import{d as Oe,a as Le,S as Be,b as B,c as E}from"./HighlightOff.c7f476fa.js";import"./CardActionArea.9046672f.js";const Ee=se(t("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function Ve(e){return ue("MuiChip",e)}const Ne=de("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),o=Ne,Me=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],Ue=e=>{const{classes:a,disabled:i,size:r,color:l,iconColor:p,onDelete:b,clickable:u,variant:d}=e,h={root:["root",d,i&&"disabled",`size${n(r)}`,`color${n(l)}`,u&&"clickable",u&&`clickableColor${n(l)}`,b&&"deletable",b&&`deletableColor${n(l)}`,`${d}${n(l)}`],label:["label",`label${n(r)}`],avatar:["avatar",`avatar${n(r)}`,`avatarColor${n(l)}`],icon:["icon",`icon${n(r)}`,`iconColor${n(p)}`],deleteIcon:["deleteIcon",`deleteIcon${n(r)}`,`deleteIconColor${n(l)}`,`deleteIcon${n(d)}Color${n(l)}`]};return fe(h,Ve,a)},_e=Y("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:i}=e,{color:r,iconColor:l,clickable:p,onDelete:b,size:u,variant:d}=i;return[{[`& .${o.avatar}`]:a.avatar},{[`& .${o.avatar}`]:a[`avatar${n(u)}`]},{[`& .${o.avatar}`]:a[`avatarColor${n(r)}`]},{[`& .${o.icon}`]:a.icon},{[`& .${o.icon}`]:a[`icon${n(u)}`]},{[`& .${o.icon}`]:a[`iconColor${n(l)}`]},{[`& .${o.deleteIcon}`]:a.deleteIcon},{[`& .${o.deleteIcon}`]:a[`deleteIcon${n(u)}`]},{[`& .${o.deleteIcon}`]:a[`deleteIconColor${n(r)}`]},{[`& .${o.deleteIcon}`]:a[`deleteIcon${n(d)}Color${n(r)}`]},a.root,a[`size${n(u)}`],a[`color${n(r)}`],p&&a.clickable,p&&r!=="default"&&a[`clickableColor${n(r)})`],b&&a.deletable,b&&r!=="default"&&a[`deletableColor${n(r)}`],a[d],a[`${d}${n(r)}`]]}})(({theme:e,ownerState:a})=>{const i=m(e.palette.text.primary,.26),r=e.palette.mode==="light"?e.palette.grey[700]:e.palette.grey[300];return x({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${o.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${o.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:r,fontSize:e.typography.pxToRem(12)},[`& .${o.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${o.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${o.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${o.icon}`]:x({marginLeft:5,marginRight:-6},a.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},a.iconColor===a.color&&x({color:e.vars?e.vars.palette.Chip.defaultIconColor:r},a.color!=="default"&&{color:"inherit"})),[`& .${o.deleteIcon}`]:x({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:i,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:m(i,.4)}},a.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},a.color!=="default"&&{color:e.vars?`rgba(${e.vars.palette[a.color].contrastTextChannel} / 0.7)`:m(e.palette[a.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[a.color].contrastText}})},a.size==="small"&&{height:24},a.color!=="default"&&{backgroundColor:(e.vars||e).palette[a.color].main,color:(e.vars||e).palette[a.color].contrastText},a.onDelete&&{[`&.${o.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:m(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},a.onDelete&&a.color!=="default"&&{[`&.${o.focusVisible}`]:{backgroundColor:(e.vars||e).palette[a.color].dark}})},({theme:e,ownerState:a})=>x({},a.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:m(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${o.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:m(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},a.clickable&&a.color!=="default"&&{[`&:hover, &.${o.focusVisible}`]:{backgroundColor:(e.vars||e).palette[a.color].dark}}),({theme:e,ownerState:a})=>x({},a.variant==="outlined"&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${e.palette.mode==="light"?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${o.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${o.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${o.avatar}`]:{marginLeft:4},[`& .${o.avatarSmall}`]:{marginLeft:2},[`& .${o.icon}`]:{marginLeft:4},[`& .${o.iconSmall}`]:{marginLeft:2},[`& .${o.deleteIcon}`]:{marginRight:5},[`& .${o.deleteIconSmall}`]:{marginRight:3}},a.variant==="outlined"&&a.color!=="default"&&{color:(e.vars||e).palette[a.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[a.color].mainChannel} / 0.7)`:m(e.palette[a.color].main,.7)}`,[`&.${o.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[a.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:m(e.palette[a.color].main,e.palette.action.hoverOpacity)},[`&.${o.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[a.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:m(e.palette[a.color].main,e.palette.action.focusOpacity)},[`& .${o.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[a.color].mainChannel} / 0.7)`:m(e.palette[a.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[a.color].main}}})),Fe=Y("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,a)=>{const{ownerState:i}=e,{size:r}=i;return[a.label,a[`label${n(r)}`]]}})(({ownerState:e})=>x({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},e.size==="small"&&{paddingLeft:8,paddingRight:8}));function X(e){return e.key==="Backspace"||e.key==="Delete"}const Ke=y.exports.forwardRef(function(a,i){const r=pe({props:a,name:"MuiChip"}),{avatar:l,className:p,clickable:b,color:u="default",component:d,deleteIcon:h,disabled:I=!1,icon:C,label:w,onClick:_,onDelete:k,onKeyDown:F,onKeyUp:K,size:ee="medium",variant:ae="filled",tabIndex:te,skipFocusWhenDisabled:re=!1}=r,le=ve(r,Me),T=y.exports.useRef(null),oe=ge(T,i),G=f=>{f.stopPropagation(),k&&k(f)},ie=f=>{f.currentTarget===f.target&&X(f)&&f.preventDefault(),F&&F(f)},ne=f=>{f.currentTarget===f.target&&(k&&X(f)?k(f):f.key==="Escape"&&T.current&&T.current.blur()),K&&K(f)},j=b!==!1&&_?!0:b,O=j||k?q:d||"div",L=x({},r,{component:O,disabled:I,size:ee,color:u,iconColor:y.exports.isValidElement(C)&&C.props.color||u,onDelete:!!k,clickable:j,variant:ae}),S=Ue(L),ce=O===q?x({component:d||"div",focusVisibleClassName:S.focusVisible},k&&{disableRipple:!0}):{};let W=null;k&&(W=h&&y.exports.isValidElement(h)?y.exports.cloneElement(h,{className:z(h.props.className,S.deleteIcon),onClick:G}):t(Ee,{className:z(S.deleteIcon),onClick:G}));let H=null;l&&y.exports.isValidElement(l)&&(H=y.exports.cloneElement(l,{className:z(S.avatar,l.props.className)}));let A=null;return C&&y.exports.isValidElement(C)&&(A=y.exports.cloneElement(C,{className:z(S.icon,C.props.className)})),s(_e,x({as:O,className:z(S.root,p),disabled:j&&I?!0:void 0,onClick:_,onKeyDown:ie,onKeyUp:ne,ref:oe,tabIndex:re&&I?-1:te,ownerState:L},ce,le,{children:[H||A,t(Fe,{className:z(S.label),ownerState:L,children:w}),W]}))}),V=Ke;var U={},Ge=he.exports;Object.defineProperty(U,"__esModule",{value:!0});var Z=U.default=void 0,We=Ge(be()),He=Ce,Ae=(0,We.default)((0,He.jsx)("path",{d:"M4 18v3h3v-3h10v3h3v-6H4v3zm15-8h3v3h-3v-3zM2 10h3v3H2v-3zm15 3H7V5c0-1.1.9-2 2-2h6c1.1 0 2 .9 2 2v8z"}),"EventSeat");Z=U.default=Ae;function qe(e){const[a,i]=g.useState(e.selection.find(l=>l===e.id)===e.id),r=g.useCallback(()=>{e.setSelection(l=>l.find(p=>p===e.id)?(i(!1),l.filter(p=>p!==e.id)):l.length===10?l:(i(!0),[...l,e.id]))},[e]);return t(me,{title:e.id,children:t(xe,{onClick:r,color:a?"secondary":"default",children:t(Z,{fontSize:"large"})})})}function Je({rows:e,columns:a,selection:i,setSelection:r}){const[l,p]=g.useState([]),b=g.useCallback(()=>{const u=[];for(let d=0;d<a+1;d++)u.push(t(c,{item:!0,xs:1,display:"flex",justifyContent:"center",children:d?t(V,{label:d,color:"primary"}):t($,{})},`chip${d}`));for(let d=0;d<e;d++){u.push(t(c,{item:!0,xs:1,display:"flex",justifyContent:"center",children:t(V,{label:String.fromCharCode(65+d),color:"primary"})},String.fromCharCode(65+d)));for(let h=0;h<a;h++)u.push(t(c,{item:!0,xs:1,display:"flex",justifyContent:"center",children:t(qe,{id:String.fromCharCode(65+d)+(h+1),setSelection:r,selection:i})},String.fromCharCode(65+d)+(h+1)))}return u},[a,e,i,r]);return g.useEffect(()=>{p([]),p(b())},[b,i]),s(P,{sx:{mt:4},children:[t(v,{sx:{mb:2},variant:"h4",children:"Stoel Selectie:"}),i.map(u=>t(De,{in:!0,children:t(V,{label:u,color:"info",sx:{mr:1}})},u)),s(c,{sx:{mt:1},container:!0,spacing:1,columns:a+1,children:[l,t(c,{item:!0,xs:a+1,children:t(P,{sx:{p:2,bgcolor:"white",color:"black",borderRadius:1},children:t(v,{align:"center",variant:"h5",children:"Scherm"})})})]})]})}function Qe(e){const{user:a}=g.useContext(ye),i=g.useCallback(r=>{e.setGegevens({amount:e.selection.length*10,cardNum:r.target.value})},[e]);return s(c,{container:!0,spacing:3,children:[t(c,{item:!0,xs:12,lg:6,children:t(D,{children:t(M,{children:s(c,{container:!0,spacing:3,children:[t(c,{item:!0,xs:12,children:t(v,{variant:"h4",children:"Product:"})}),s(c,{item:!0,xs:6,children:[t(v,{variant:"h6",children:e.data.titel}),t(v,{variant:"body2",children:e.data.omschrijving})]}),s(c,{item:!0,xs:6,children:[s(v,{variant:"body1",children:["Hoeveelheid: ",e.selection.length," ",e.selection.length===1?"Ticket":"tickets"]}),s(v,{children:["Stoelen: ",e.selection.map((r,l)=>l===e.selection.length-1?r:`${r}, `)]})]}),t(c,{item:!0,xs:12,children:t(Te,{onChange:i,fullWidth:!0,label:"Rekening nummer"})})]})})})}),t(c,{item:!0,xs:12,lg:6,children:t(D,{children:t(M,{children:s(c,{container:!0,spacing:3,children:[t(c,{item:!0,xs:12,children:t(v,{variant:"h4",children:"Gebruiker:"})}),t(c,{item:!0,xs:12,children:t(v,{variant:"h6",children:a.userData?a.userData.naam:"Anoniem"})})]})})})})]})}function Xe(e){var i,r,l;const a=[{label:"Programma:",data:e.ticket.titel},{label:"Omschrijving:",data:e.ticket.omschrijving},{label:"Hoeveelheid:",data:`\u20AC ${(i=e.data)==null?void 0:i.amount.toFixed(2)}`},{label:"Rekeningsnummer:",data:(r=e.data)==null?void 0:r.cardNum}];return t(je,{in:!0,direction:"left",children:s(c,{container:!0,spacing:3,pt:2,p:3,children:[t(c,{item:!0,xs:12,sm:!0,lg:4,children:t(P,{component:"img",src:(l=e.ticket)==null?void 0:l.afbeelding,sx:{width:250,p:2,bgcolor:"divider",borderRadius:1}})}),t(c,{item:!0,xs:12,sm:6,children:a.map(p=>s($,{children:[t(v,{variant:"body2",sx:{color:"primary.main"},children:p.label}),t(v,{children:p.data}),t("br",{})]}))}),s(c,{item:!0,xs:12,sm:6,children:[t(R,{variant:"contained",onClick:e.nextStep,sx:{mr:2},children:"gereed"}),t(R,{variant:"outlined",onClick:e.previousStep,children:"terug"})]})]})})}function Ye(e){const[a,i]=g.useState(0),r=$e();return g.useEffect(()=>{(async()=>{i(0);const p=crypto.randomUUID();if((await N("external").Pay(e.data.amount,p,"")).status!==200){i(2);return}if((await N("bestellingen").Create({})).status!==200){i(2);return}i(1)})()},[e]),s($,{children:[a===0&&s($,{children:[t(c,{item:!0,xs:12,display:"flex",justifyContent:"center",children:t(ke,{size:200,sx:{mt:2,color:J[500]}})}),t(c,{item:!0,xs:12,children:t(v,{variant:"h3",align:"center",children:"Even geduld AUB"})})]}),a===1&&s($,{children:[t(Q,{in:!0,children:t(c,{item:!0,xs:12,display:"flex",justifyContent:"center",children:t(Oe,{sx:{fontSize:200,mt:2,color:J[500]}})})}),s(c,{item:!0,xs:12,children:[t(v,{variant:"h3",align:"center",children:"betaling Gelukt"}),t(v,{variant:"h3",align:"center",children:"Dank u wel!"})]}),t(c,{item:!0,xs:12,display:"flex",justifyContent:"center",children:t(R,{variant:"contained",onClick:()=>r(-1),children:"Terug naar home pagina"})})]}),a===2&&s($,{children:[t(Q,{in:!0,children:t(c,{item:!0,xs:12,display:"flex",justifyContent:"center",children:t(Le,{sx:{fontSize:200,mt:2,color:Se[500]}})})}),s(c,{item:!0,xs:12,children:[t(v,{variant:"h3",align:"center",children:"Donatie niet gelukt."}),t(v,{variant:"h3",align:"center",children:"Probeer later"})]}),t(c,{item:!0,xs:12,display:"flex",justifyContent:"center",children:t(R,{variant:"contained",onClick:()=>r(-1),children:"Terug naar home pagina"})})]})]})}function ia(){const{id:e}=Ie(),[a,i]=g.useState(null),[r,l]=g.useState(0),[p,b]=g.useState([]),[u,d]=g.useState(null),h=g.useCallback(async()=>{l(C=>C-1)},[]),I=g.useCallback(async()=>{l(C=>C+1)},[]);return g.useEffect(()=>{N("programmeringen").Get(e).then(C=>{i(C.data)})},[e]),t(ze,{sx:{height:"80vh",display:"flex",justifyContent:"center",alignItems:"center",my:4},children:a?s(D,{elevation:4,sx:{width:"100%",maxHeight:"80vh",overflow:"auto"},children:[t(D,{elevation:4,sx:{zIndex:1e4,p:1,position:"sticky",top:0,bgcolor:"background.default"},children:s(Be,{activeStep:r,alternativeLabel:!0,children:[t(B,{children:t(E,{children:"Stoelen Kiezen"})}),t(B,{children:t(E,{children:"Betaal gegevens"})}),t(B,{children:t(E,{children:"Bestelling bevestigen"})})]})}),s(M,{children:[r===0&&s($,{children:[t(v,{variant:"h4",sx:{pb:2},children:"Bestelling"}),t(Pe,{...a}),t(Je,{columns:10,rows:10,selection:p,setSelection:b})]}),r===1&&s($,{children:[t(v,{variant:"h4",sx:{pb:2},children:"Betaal Gegevens:"}),t(Qe,{data:a,selection:p,setGegevens:d})]}),r===2&&s($,{children:[t(v,{variant:"h4",sx:{pb:2},children:"Betaal Gegevens:"}),t(Xe,{data:u,nextStep:I,previousStep:h,ticket:a})]}),r===3&&u&&t(Ye,{data:u}),r<2&&s(P,{sx:{my:4},children:[t(R,{variant:"contained",onClick:I,sx:{mr:2},children:"Volgende Stap"}),t(R,{disabled:r===0,variant:"outlined",onClick:h,children:"Voorige Stap"})]})]})]}):t(Re,{})})}export{ia as default};
