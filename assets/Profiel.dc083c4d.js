import{R as t,U as f,r as P,j as u,c as e,T as m,o as L,F as M,n as h,ag as z,Y as F,A as B,m as I,aq as T,ai as G,a5 as W,E as N}from"./index.91efde4c.js";import{d as R,L as U,A as Y}from"./index.c2cca7d3.js";import{F as $}from"./FormGroup.e2cf38a4.js";import{T as x,M as H}from"./TextField.260cedf2.js";import{D as O}from"./DatePicker.8d31c446.js";import{T as q}from"./Ticket.f3854b84.js";import{I as V}from"./InfiniteScroll.e693427a.js";import{_}from"./index.ce0b8bf0.js";import{C as A}from"./CardContent.390cc5ee.js";import{B as K,P as Q}from"./ProfileCard.43b8cd60.js";import{C as j}from"./Card.35f0e220.js";import{T as J,a as C}from"./Tabs.22247fb1.js";import"./InputAdornment.979adc57.js";import"./index.f2a06ad4.js";import"./CardActionArea.92e2b7a6.js";import"./CardMedia.c0af4bdb.js";function X(){const[a,l]=t.useState(""),[n,s]=t.useState(""),[d,i]=t.useState(R()),[o,c]=t.useState(""),[p,g]=t.useState(""),[v,E]=t.useState(!0);t.useContext(f);const k=P.exports.useCallback(async r=>{c(r.target.value)},[]),S=P.exports.useCallback(async r=>{g(r.target.value)},[]),D=P.exports.useCallback(async r=>{s(r.target.value)},[]),b=P.exports.useCallback(async r=>{l(r.target.value)},[]);return u($,{children:[e(m,{variant:"h4",children:"Gegevens aanpassen"}),e(x,{sx:{m:1,mb:2},fullWidth:!0,label:"Naam",variant:"standard",type:"text",required:!0,onChange:b,value:a}),e(U,{dateAdapter:Y,children:e(O,{label:"Geboorte datum",value:d,onChange:r=>{i(r)},renderInput:r=>e(x,{sx:{m:1},variant:"standard",...r})})}),e(x,{sx:{m:1,mb:2},label:"E-mail adres",variant:"standard",type:"email",required:!0,onChange:S,value:p}),e(x,{sx:{m:1,mb:2},label:"Wachtwoord",variant:"standard",type:"password",required:!0,onChange:k,value:o}),e(x,{sx:{m:1,mb:3},label:"Wachtwoord bevestigen",variant:"standard",type:"password",required:!0,onChange:D,value:n,error:!v,helperText:v?"":"Wachtwoorden komen niet overeen"}),e(L,{variant:"contained",type:"submit",children:"wijzigingen opslaan"})]})}function Z(){const[a,l]=t.useState([]),[n,s]=t.useState([]),[d,i]=t.useState(!0),{user:o}=t.useContext(f),[c,p]=t.useState(!0),[g,v]=t.useState(!1),[E,k]=t.useState(""),S=o.userData;t.useEffect(()=>{(async()=>{await B("gebruikers").Get(S.id+"").then(r=>{r.status==200&&(l(r.data.reserveringen),s(r.data.reserveringen.slice(0,5)),p(!1))})})()},[S.id]);const D=t.useCallback(async()=>{n.length>=a.length&&i(!1),s(a.slice(0,n.length+5))},[a,n.length]);return u(M,{children:[u(h,{sx:{overflow:"auto",scrollbarWidth:"thin",height:400},children:[e(m,{variant:"h4",mb:2,children:"Tickets"}),c?e(z,{}):n.length==0?e(m,{variant:"h5",mb:2,children:"U heeft geen Tikets gekocht."}):e(V,{pageStart:0,loadMore:D,hasMore:d,loader:e("div",{className:"loader",children:"Even Geduld ..."},0),useWindow:!1,children:n.map(b=>e(q,{disableLink:!0,...b.programmering,onClick:async r=>{r.preventDefault(),r.stopPropagation(),k(b.QR),v(!0)}},b.id))})]}),e(H,{open:g,onClose:async()=>{v(!1),setTimeout(async()=>{k("")},300)},children:e(F,{in:g,children:e(h,{sx:{position:"absolute",top:"30%",left:"35%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4},children:e(_,{size:256,style:{width:"100%"},value:E,viewBox:"0 0 256 256"})})})})]})}function ee(){const[a,l]=t.useState([]),[n,s]=t.useState(),{user:d}=t.useContext(f);return t.useEffect(()=>{var o;B("betrokkenen").Get(((o=d.userData)==null?void 0:o.id)+"").then(c=>{l(i(c.data.groepen)),s(i(c.data.groepen).length)})},[]),e(h,{sx:{p:1,scrollbarWidth:"thin"},children:u(A,{children:[e(m,{variant:"h4",mb:2,children:"My shows:"}),n==0?e(m,{variant:"h5",mb:2,children:"You currently dont have any jobs to work."}):a.map(o=>e(q,{...o},o.id))]})});function i(o){const c=[];return o!=null&&o.forEach(p=>{p.programmeringen!=null&&p.programmeringen.forEach(g=>{c.push(g)})}),c}}function te(){const[a,l]=t.useState([]),[n,s]=t.useState(),{user:d}=t.useContext(f);return t.useEffect(()=>{var i;B("betrokkenen").Get(((i=d.userData)==null?void 0:i.id)+"").then(o=>{l(o.data.groepen),s(o.data.groepen.length)})},[]),e(h,{sx:{p:1,overflowY:"visible",scrollbarWidth:"thin"},children:u(A,{sx:{},children:[e(m,{variant:"h4",mb:2,children:"My bands:"}),n==0?e(m,{variant:"h5",mb:2,children:"You are currently not part of a band."}):a.map(i=>e(K,{...i},i.id))]})})}function ae(){const{user:a}=t.useContext(f),l=I(),n=t.useCallback(()=>{localStorage.removeItem("token"),a.setUser(null),l("/")},[l,a]);return u(h,{sx:{display:"flex",justifyItems:"center",alignItems:"center",alignContent:"center",flexDirection:"column",flexWrap:"nowrap",maxWidth:500},children:[e(m,{variant:"h3",align:"center",sx:{marginBottom:1},children:"Weet u zeker dat u wilt uitloggen?"}),e(m,{variant:"body1",align:"center",children:"Klik op de knop hieronder om uit te loggen."}),e(L,{variant:"contained",size:"large",onClick:n,sx:{mt:4,width:"100%"},children:"Log uit"})]})}function y(a){const{children:l,value:n,index:s,...d}=a;return e(h,{role:"tabpanel",hidden:n!==s,id:`vertical-tabpanel-${s}`,"aria-labelledby":`vertical-tab-${s}`,...d,children:n===s&&e(h,{sx:{p:3},children:l})})}function w(a){return{id:`vertical-tab-${a}`,"aria-controls":`vertical-tabpanel-${a}`}}function xe(){const[a,l]=t.useState(0),{user:n,role:s}=t.useContext(f),d=I(),i=s.role==T.acteur||s.role==T.bandlid,o=s.role==T.admin,c=(p,g)=>{l(g)};return e(M,{children:n.userData&&n.userData.naam!=null?e(G,{maxWidth:"md",sx:{my:4},children:u(W,{container:!0,spacing:3,children:[e(W,{item:!0,lg:12,xs:12,children:u(j,{elevation:4,children:[e(Q,{}),u(J,{variant:"fullWidth",value:a,onChange:c,"aria-label":"Vertical tabs",sx:{borderRight:1,borderColor:"divider"},children:[e(C,{label:"Log out",...w(0)}),e(C,{label:"Settings",...w(1)}),e(C,{label:"Tickets",...w(2)}),i&&e(C,{label:"Bands",...w(3)}),i&&e(C,{label:"Shows",...w(4)}),e(h,{sx:{width:"100",ml:3,mr:3},children:o&&e(L,{variant:"contained",onClick:()=>d("/admin"),children:"To admin page"})})]})]})}),e(W,{item:!0,lg:12,sm:12,xs:12,children:e(j,{elevation:4,sx:{scrollbarWidth:"thin",overflow:"auto",maxHeight:500},children:u(G,{children:[e(y,{value:a,index:0,children:e(h,{sx:{scrollbarWidth:"thin",display:"flex",justifyContent:"center",alignItems:"center"},children:e(ae,{})})}),e(y,{value:a,index:1,children:e(h,{sx:{width:"100%",height:"100%",scrollbarWidth:"thin"},children:e(X,{})})}),e(y,{value:a,index:2,children:e(Z,{})}),i&&e(y,{value:a,index:3,children:e(te,{})}),i&&e(y,{value:a,index:4,children:e(ee,{})})]})})})]})}):e(N,{})})}export{xe as default};
