import{R as a,U as g,r as y,j as u,c as e,T as m,o as P,A as S,n as h,m as j,an as w,ad as $,ah as q,a3 as k,ao as z}from"./index.887c5d85.js";import{d as B,L as F,A as M}from"./index.48178347.js";import{F as N}from"./FormGroup.2ea7bff6.js";import{T as v}from"./TextField.ddf42daa.js";import{D as R}from"./DatePicker.3a77985c.js";import{T as L}from"./Ticket.2b5bc3b6.js";import{C as D}from"./CardContent.46443b62.js";import{B as U,P as Y}from"./ProfileCard.74254c9d.js";import{C as W}from"./Card.69ae87ce.js";import{T as H,a as x}from"./Tabs.2722836d.js";import"./InputAdornment.5a5a2133.js";import"./index.f2a06ad4.js";import"./CardActionArea.96025989.js";import"./CardMedia.efedb9bf.js";function V(){const[n,i]=a.useState(""),[s,r]=a.useState(""),[l,d]=a.useState(B()),[t,o]=a.useState(""),[p,b]=a.useState(""),[T,X]=a.useState(!0);a.useContext(g);const E=y.exports.useCallback(async c=>{o(c.target.value)},[]),G=y.exports.useCallback(async c=>{b(c.target.value)},[]),A=y.exports.useCallback(async c=>{r(c.target.value)},[]),I=y.exports.useCallback(async c=>{i(c.target.value)},[]);return u(N,{children:[e(m,{variant:"h5",children:"Gegevens aanpassen"}),e(v,{sx:{m:1,mb:2},label:"Naam",variant:"standard",type:"text",required:!0,onChange:I,value:n}),e(F,{dateAdapter:M,children:e(R,{label:"Geboorte datum",value:l,onChange:c=>{d(c)},renderInput:c=>e(v,{sx:{m:1},variant:"standard",...c})})}),e(v,{sx:{m:1,mb:2},label:"E-mail adres",variant:"standard",type:"email",required:!0,onChange:G,value:p}),e(v,{sx:{m:1,mb:2},label:"Wachtwoord",variant:"standard",type:"password",required:!0,onChange:E,value:t}),e(v,{sx:{m:1,mb:3},label:"Wachtwoord bevestigen",variant:"standard",type:"password",required:!0,onChange:A,value:s,error:!T,helperText:T?"":"Wachtwoorden komen niet overeen"}),e(P,{variant:"contained",type:"submit",children:"wijzigingen opslaan"})]})}function K(){a.useState(B());const[n,i]=a.useState([]),[s,r]=a.useState(),{user:l}=a.useContext(g),d=l.userData;return a.useEffect(()=>{S("gebruikers").Get(d.id+"").then(t=>{console.log(t.data),t.status==200&&(i(t.data.reserveringen),r(t.data.reserveringen.length))})},[]),e(h,{sx:{p:1,scrollbarWidth:"thin"},children:u(D,{children:[e(m,{variant:"h4",mb:2,children:"Tickets:"}),s==0?e(m,{variant:"h5",mb:2,children:"You currently dont have any reservations."}):n.map(t=>(console.log(t),e(L,{...t.programmering,onClick:o=>{o.preventDefault(),o.stopPropagation(),navigate(`event/${t.id}`)}},t.id))),";"]})})}function O(){const[n,i]=a.useState([]),[s,r]=a.useState(),{user:l}=a.useContext(g);return a.useEffect(()=>{var t;S("betrokkenen").Get(((t=l.userData)==null?void 0:t.id)+"").then(o=>{console.log(o.data),i(d(o.data.groepen)),r(d(o.data.groepen).length)})},[]),e(h,{sx:{p:1,scrollbarWidth:"thin"},children:u(D,{children:[e(m,{variant:"h4",mb:2,children:"My shows:"}),s==0?e(m,{variant:"h5",mb:2,children:"You currently dont have any jobs to work."}):n.map(t=>(console.log(t),e(L,{...t},t.id)))]})});function d(t){const o=[];return t!=null&&t.forEach(p=>{p.programmeringen!=null&&p.programmeringen.forEach(b=>{o.push(b)})}),o}}function J(){const[n,i]=a.useState([]),{user:s}=a.useContext(g);return a.useEffect(()=>{var r;S("betrokkenen").Get(((r=s.userData)==null?void 0:r.id)+"").then(l=>{console.log(l.data),i(l.data.groepen)})},[]),e(h,{sx:{p:1,overflowY:"visible",scrollbarWidth:"thin"},children:u(D,{sx:{},children:[e(m,{variant:"h4",mb:2,children:"Mijn bands:"}),n.map(r=>(console.log(r),e(U,{...r},r.id)))]})})}function Q(){const{user:n}=a.useContext(g),i=j(),s=a.useCallback(()=>{localStorage.removeItem("token"),n.setUser(null),i("/")},[i,n]);return u(h,{sx:{display:"flex",justifyItems:"center",alignItems:"center",alignContent:"center",flexDirection:"column",flexWrap:"nowrap",maxWidth:500},children:[e(m,{variant:"h3",align:"center",sx:{marginBottom:1},children:"Weet u zeker dat u wilt uitloggen?"}),e(m,{variant:"body1",align:"center",children:"Klik op de knop hieronder om uit te loggen."}),e(P,{variant:"contained",size:"large",onClick:s,sx:{mt:4,width:"100%"},children:"Log uit"})]})}function f(n){const{children:i,value:s,index:r,...l}=n;return e(h,{role:"tabpanel",hidden:s!==r,id:`vertical-tabpanel-${r}`,"aria-labelledby":`vertical-tab-${r}`,...l,children:s===r&&e(h,{sx:{p:3},children:i})})}function C(n){return{id:`vertical-tab-${n}`,"aria-controls":`vertical-tabpanel-${n}`}}function he(){const[n,i]=a.useState(0),{user:s,role:r}=a.useContext(g),l=j(),d=r.role==w.acteur||r.role==w.bandlid,t=r.role==w.admin,o=(p,b)=>{i(b)};return e($,{children:s.userData&&s.userData.naam!=null?e(q,{sx:{my:4},children:u(k,{container:!0,spacing:3,children:[e(k,{item:!0,lg:12,xs:12,children:u(W,{elevation:4,children:[e(Y,{}),u(H,{variant:"fullWidth",value:n,onChange:o,"aria-label":"Vertical tabs",sx:{borderRight:1,borderColor:"divider"},children:[e(x,{label:"Log out",...C(0)}),e(x,{label:"Settings",...C(1)}),e(x,{label:"Tickets",...C(2)}),d&&e(x,{label:"Bands",...C(3)}),d&&e(x,{label:"Shows",...C(4)}),e(h,{sx:{width:"100",ml:3,mr:3},children:t&&e(P,{variant:"contained",onClick:()=>l("/admin"),children:"To admin page"})})]})]})}),e(k,{item:!0,lg:12,sm:12,xs:12,children:u(W,{elevation:4,sx:{maxHeight:500,minHeight:500},children:[e(f,{value:n,index:0,children:e(h,{sx:{width:"100%",height:"100%",scrollbarWidth:"thin",alignItems:"center",display:"flex",justifyContent:"center"},children:e(Q,{})})}),e(f,{value:n,index:1,children:e(h,{sx:{width:"100%",height:"100%",scrollbarWidth:"thin",alignItems:"center",display:"flex",justifyContent:"center"},children:e(V,{})})}),e(f,{value:n,index:2,children:e(K,{})}),d&&e(f,{value:n,index:3,children:e(J,{})}),d&&e(f,{value:n,index:4,children:e(O,{})})]})})]})}):e(z,{})})}export{he as default};
